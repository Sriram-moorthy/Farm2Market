<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buyer Signup/Login - Farm2Market</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸŒ¾</text></svg>">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="/" class="logo">Farm2Market</a>
                <ul class="nav-links">
                    <li><a href="/">Home</a></li>
                    <li><a href="/farmer-auth">Farmer Login</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="auth-main">
        <div class="container">
            <!-- Auth Container -->
            <div class="auth-container">
                <!-- Left Side - Info -->
                <div class="auth-info">
                    <div class="auth-info-content">
                        <div class="auth-icon">ğŸ›’</div>
                        <h2>Join as a Buyer</h2>
                        <p>Find fresh crops directly from farmers at transparent prices</p>
                        
                        <div class="auth-features">
                            <div class="feature-item">
                                <span class="feature-icon">ğŸŒ¾</span>
                                <span>Access fresh crops directly</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">ğŸ’°</span>
                                <span>Transparent pricing</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">ğŸ“±</span>
                                <span>Easy mobile ordering</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">ğŸšš</span>
                                <span>Direct delivery coordination</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Right Side - Form -->
                <div class="auth-form-container">
                    <div class="auth-form" id="signupForm">
                        <h3>Create Your Account</h3>
                        <p>Fill in your details to start buying</p>
                
                <form action="/signup" method="POST" id="buyerSignupForm">
                    <input type="hidden" name="role" value="buyer">
                    
                    <div class="form-group">
                        <label for="full_name">Full Name *</label>
                        <input type="text" id="full_name" name="full_name" required 
                               placeholder="Enter your full name">
                    </div>
                    
                    <div class="form-group">
                        <label for="age">Age *</label>
                        <input type="number" id="age" name="age" min="18" max="100" required 
                               placeholder="Enter your age">
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input type="email" id="email" name="email" required 
                               placeholder="Enter your email address">
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Phone Number *</label>
                        <input type="tel" id="phone" name="phone" required 
                               placeholder="Enter your 10-digit phone number"
                               pattern="[6-9][0-9]{9}">
                    </div>
                    
                    <div class="form-group">
                        <label for="password">Password *</label>
                        <input type="password" id="password" name="password" required 
                               placeholder="Create a strong password"
                               minlength="6">
                    </div>
                    
                    <button type="submit" class="btn btn-full">
                        Create Buyer Account
                    </button>
                </form>
                
                <p style="text-align: center; margin-top: 1.5rem; color: #666;">
                    Already have an account? 
                    <a href="#" onclick="showLoginForm()" style="color: #4CAF50; text-decoration: none;">
                        Login here
                    </a>
                </p>
            </div>

            <!-- Login Form (Initially Hidden) -->
            <div class="form-container hidden" id="loginForm">
                <h2 style="text-align: center; margin-bottom: 2rem; color: #333;">
                    ğŸ›’ Buyer Login
                </h2>
                <p style="text-align: center; margin-bottom: 2rem; color: #666;">
                    Welcome back! Start shopping for fresh crops
                </p>
                
                <form action="/login" method="POST" id="buyerLoginForm">
                    <input type="hidden" name="role" value="buyer">
                    
                    <div class="form-group">
                        <label for="login_email">Email Address</label>
                        <input type="email" id="login_email" name="email" required 
                               placeholder="Enter your email address">
                    </div>
                    
                    <div class="form-group">
                        <label for="login_password">Password</label>
                        <input type="password" id="login_password" name="password" required 
                               placeholder="Enter your password">
                    </div>
                    
                    <button type="submit" class="btn btn-full">
                        Login to Marketplace
                    </button>
                </form>
                
                <p style="text-align: center; margin-top: 1.5rem; color: #666;">
                    New to Farm2Market? 
                    <a href="#" onclick="showSignupForm()" style="color: #4CAF50; text-decoration: none;">
                        Create an account
                    </a>
                </p>
            </div>
        </div>
    </main>

    <!-- Benefits Section -->
    <section style="padding: 4rem 0; background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px);">
        <div class="container">
            <h2 style="text-align: center; color: white; margin-bottom: 3rem; font-size: 2rem;">
                Why Buyers Choose Farm2Market
            </h2>
            <div class="grid grid-3">
                <div class="card">
                    <h3>ğŸŒ± Fresh from Farm</h3>
                    <p>Get the freshest crops directly from farmers without any intermediaries.</p>
                </div>
                <div class="card">
                    <h3>ğŸ’¸ Best Prices</h3>
                    <p>Enjoy competitive prices by buying directly from farmers.</p>
                </div>
                <div class="card">
                    <h3>ğŸ” Easy Search</h3>
                    <p>Find exactly what you need with our powerful search and filter options.</p>
                </div>
                <div class="card">
                    <h3>ğŸ’¬ Direct Communication</h3>
                    <p>Chat with farmers to know more about the crops and farming practices.</p>
                </div>
                <div class="card">
                    <h3>ğŸšš Convenient Delivery</h3>
                    <p>Choose from multiple delivery options that suit your needs.</p>
                </div>
                <div class="card">
                    <h3>â­ Quality Assurance</h3>
                    <p>Read reviews and ratings to ensure you get the best quality produce.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Assistant Toggle Button -->
    <button class="ai-assistant-toggle" id="aiToggle" title="Chat with AI Assistant">ğŸ¤–</button>

    <!-- AI Assistant Panel -->
    <div class="ai-assistant-panel" id="aiPanel">
        <div class="ai-assistant-header">
            <div>
                <h3>ğŸ¤– Farm2Market AI Assistant</h3>
                <small>Powered by Gemini AI</small>
            </div>
            <button class="ai-assistant-minimize" id="aiMinimize">Ã—</button>
        </div>
        <div class="ai-assistant-messages" id="aiMessages">
            <!-- Messages will be added here -->
        </div>
        <div class="ai-assistant-input">
            <input type="text" id="aiInput" placeholder="Ask me anything about farming or our platform..." maxlength="500">
            <button class="ai-assistant-send" id="aiSend">ğŸ“¤</button>
        </div>
    </div>

    <script src="/static/js/main.js"></script>
    <script>
        function showLoginForm() {
            document.getElementById('signupForm').classList.add('hidden');
            document.getElementById('loginForm').classList.remove('hidden');
        }
        
        function showSignupForm() {
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('signupForm').classList.remove('hidden');
        }

        // Demo login functionality
        document.getElementById('buyerLoginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('login_email').value;
            const phone = document.getElementById('login_phone').value;
            
            if (email && phone) {
                // For demo purposes, create a user with dummy data
                const formData = new FormData();
                formData.append('full_name', 'Demo Buyer');
                formData.append('age', '30');
                formData.append('email', email);
                formData.append('phone', phone);
                formData.append('location', '');
                formData.append('role', 'buyer');
                
                fetch('/signup', {
                    method: 'POST',
                    body: formData
                }).then(response => {
                    if (response.redirected) {
                        window.location.href = response.url;
                    }
                }).catch(error => {
                    console.error('Login error:', error);
                    farm2market.showNotification('Login failed. Please try again.', 'error');
                });
            }
        });
    </script>
</body>
</html> 